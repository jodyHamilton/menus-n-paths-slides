!function($,e){var c=$(document),s=$(window),n,a,t,l=function(){var e=$.deck("getOptions"),c=$.deck("getContainer"),s=e.baseHeight;s||(s=c.height()),$.each(t,function(n,a){var t=a.innerHeight(),l=a.find("."+e.classes.scaleSlideWrapper),i=c.hasClass(e.classes.scale),d=i?s/t:1;1===d?l.css("transform",""):(l.css("transform","scale("+d+")"),window.setTimeout(function(){c.scrollTop(0)},1))})},i=function(){var e=$.deck("getOptions"),c=$.map([e.classes.before,e.classes.previous,e.classes.current,e.classes.next,e.classes.after],function(e,c){return"."+e}).join(", ");t=[],$.each($.deck("getSlides"),function(s,n){var a=n.parentsUntil(e.selectors.container,c);a.length||t.push(n)})},d=function(){var e=$.deck("getOptions"),c='<div class="'+e.classes.scaleSlideWrapper+'"/>';$.each(t,function(e,s){s.children().wrapAll(c)})},o=function(){var e=$.deck("getOptions");s.unbind("resize.deckscale"),s.bind("resize.deckscale",function(){window.clearTimeout(a),a=window.setTimeout(l,e.scaleDebounce)}),$.deck("enableScale"),s.unbind("load.deckscale"),s.bind("load.deckscale",l)},r=function(){var e=$.deck("getOptions");c.unbind("keydown.deckscale"),c.bind("keydown.deckscale",function(c){var s=c.which===e.keys.scale;s=s||$.inArray(c.which,e.keys.scale)>-1,s&&($.deck("toggleScale"),c.preventDefault())})};$.extend(!0,$.deck.defaults,{classes:{scale:"deck-scale"},keys:{scale:83},baseHeight:null,scaleDebounce:200}),$.deck("extend","disableScale",function(){$.deck("getContainer").removeClass($.deck("getOptions").classes.scale),l()}),$.deck("extend","enableScale",function(){$.deck("getContainer").addClass($.deck("getOptions").classes.scale),l()}),$.deck("extend","toggleScale",function(){var e=$.deck("getContainer"),c=e.hasClass($.deck("getOptions").classes.scale);$.deck(c?"disableScale":"enableScale")}),c.bind("deck.init",function(){i(),d(),o(),r()})}(jQuery,"deck",this);